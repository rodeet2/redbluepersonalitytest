<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<html>
<head>
  <title>Your Personality</title>
  <head>
    <meta charset="UTF-8">
    <title>User Blocks</title>
    <link rel="stylesheet" type="text/css" href="style.css">
</head>
</head>
<body>
  <div class="content">
    <h1>Your personality is:</h1>  
    <h2 th:name="personality" th:text="${personality}" style="font-size: 2em;">perso</h2>  
  </div>

  <form action="/ig" method="post" class="user-input">
    <input type="text" id="ig" name="ig" size="60"><br><br>
    <button type="Start">Add Instagram</button>

    <input type="hidden" name="initialAnswer" th:value="${initialAnswer}">
    <input type="hidden" name="username" th:value="${username}">
    <input type="hidden" name="finalanswers" th:value="${finalanswers}">
    <input type="hidden" name="personality" th:value="${personality}">

  </form>

  <div class="user-blocks-container" id="userBlocks">
    <script th:inline="javascript">
        const userBlocksContainer = document.getElementById('userBlocks');
        const users = /*[[${users}]]*/ [];

        const userBlocks = users.map(user => `
            <div class="user-block">
                <p>${user.name}</p>
                <p>Instagram: ${user.instagramID}</p>
            </div>
        `);

        userBlocksContainer.innerHTML = userBlocks.join('');
    </script>
  </div>

</body> 
</html>
